<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <title>Lekce 3 â€“ UkÃ¡zat Äi neukÃ¡zat?</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<main>
  <h1>Lekce 3 â€“ UkÃ¡zat Äi neukÃ¡zat?</h1>

  <p class="prokoho">
    ğŸ§‘â€ğŸ’» TrvÃ¡nÃ­: 30 minut<br>
    ğŸ¯ CÃ­lovÃ¡ skupina: pro jednotlivce (Äi skupiny, co se nepohÃ¡dajÃ­)
  </p>

  <section id="section-start">
    <h3>Ãšvod</h3>
    <p>UÅ¾ umÃ­te pÅ™ipojit moduly Hardwario Tower a zobrazit jejich vÃ½stupy pomocÃ­ grafÅ¯ a mÄ›Å™idel. 
  V tÃ©to lekci se ponoÅ™Ã­me hloubÄ›ji do programovÃ¡nÃ­ v prostÅ™edÃ­ Playground. 
  NauÄÃ­te se pracovat se zprÃ¡vami (messages), filtrovat je podle tÃ©matu a vytvÃ¡Å™et podmÃ­nÄ›nÃ© vÃ½stupy â€” napÅ™Ã­klad rozsvÃ­tit LED pouze pÅ™i splnÄ›nÃ­ urÄitÃ© hodnoty. 
  DÃ­ky tomu zaÄnete programovat chovÃ¡nÃ­ systÃ©mu, nejen sbÃ­rat data.</p>
  
      <h3>Co je pÅ™ipraveno</h3>
<ul>
  <li>âœ… PIR modul je pÅ™ipojenÃ½, napÃ¡jenÃ½ a spÃ¡rovanÃ½.</li>
  <li>âœ… V Playgroundu pÅ™ichÃ¡zejÃ­ data o orientaci, teplotÄ› a pÅ™Ã­tomnosti osoby.</li>
  <li>âœ… Dashboard zobrazuje aktuÃ¡lnÃ­ hodnoty z modulu.</li>
  <li>âœ… VÃ­te, jak si hodnoty znovu zobrazit nebo upravit, pokud zmizÃ­.</li>
</ul>

    <button class="primary-button" onclick="document.getElementById('section-next').style.display='block'; this.style.display='none';">
      Ano, PIR pÅ™ipojeno, hodnoty Ätu i vykresluji.
    </button>
  </section>

  <section id="section-next" style="display:none;">
  <h3>Kdo to vÅ¡echno zaÄne</h3>
<p>
  Ve vaÅ¡Ã­ flow zaÄnÄ›te uzlem <strong>mqtt in</strong>, kterÃ½ bude odebÃ­rat zprÃ¡vy s orientacÃ­. V mÃ©m pÅ™Ã­padÄ› se jmenuje <code>node/motion-detector:0/orientation</code>, ale mÅ¯Å¾e se u vÃ¡s mÃ­rnÄ› liÅ¡it podle nÃ¡zvu zaÅ™Ã­zenÃ­.
</p>
<p class="tip">Aby bylo moÅ¾nÃ© s nÄ›jakou zprÃ¡vou pracovat, musÃ­ nejprve vÅ¯bec pÅ™ijÃ­t. Pro testovÃ¡nÃ­ se skvÄ›le hodÃ­ PIR senzor, konkrÃ©tnÄ› jeho gyroskop, protoÅ¾e mnoÅ¾stvÃ­ a Äetnost zprÃ¡v mÅ¯Å¾ete snadno ovlivnit pouhÃ½m pÅ™eklÃ¡pÄ›nÃ­m modulu. </p>
<p>
  Co danÃ½ uzel vracÃ­, uÅ¾ vÃ­te z pÅ™edchozÃ­ lekce â€“ lze jej napÅ™Ã­klad vykreslit do grafu. Pro lepÅ¡Ã­ pochopenÃ­ si ale doporuÄujeme vÃ½stup z uzlu <strong>mqtt in</strong> napojit na uzel <strong>debug</strong>. Ve vÃ½chozÃ­m nastavenÃ­ se v debug vÃ½stupu zobrazÃ­ obsah <code>msg.payload</code>, tedy samotnÃ¡ hodnota pÅ™ichÃ¡zejÃ­cÃ­ ze senzoru. U mÃ©ho PIR modulu se objevujÃ­ ÄÃ­sla v rozsahu 1 aÅ¾ 6 podle toho, jak je natoÄenÃ½ â€“ a prÃ¡vÄ› s touto hodnotou budeme dÃ¡le pracovat.
</p>
<h3>Switch rozdÄ›lÃ­ vÃ½stup</h3>
<p>
  Uzel <strong>Switch</strong> ze sekce <em>Function</em> mÃ¡ jeden vstup a minimÃ¡lnÄ› jeden vÃ½stup. Po rozkliknutÃ­ mÅ¯Å¾ete uzel pojmenovat, coÅ¾ vÃ¡m usnadnÃ­ orientaci ve vaÅ¡em flow. V poli <strong>Property</strong> nastavÃ­te, s jakou hodnotou mÃ¡ uzel pracovat â€“ v tomto pÅ™Ã­padÄ› <code>msg.payload</code>. NÃ­Å¾e pak nastavÃ­te jednotlivÃ© podmÃ­nky vÃ½stupu. Pro tuto Ãºlohu nÃ¡s zajÃ­mÃ¡ situace, kdy mÃ¡ orientace hodnotu <strong>6</strong> (modul leÅ¾Ã­ na PIR senzoru), a vÅ¡echno ostatnÃ­ zachytÃ­te pomocÃ­ volby <em>otherwise</em>, kterÃ¡ se nachÃ¡zÃ­ na konci seznamu podmÃ­nek.
</p>
<h3>Change zmÄ›nÃ­ zprÃ¡vu</h3>
<p>
<code>msg.payload</code> je v tuhle chvÃ­li nastavenÃ½ stÃ¡le na 1-5 nebo 6, podle toho, na kterÃ©m vÃ½stupu <strong>Switch</strong>e je zrovna flow. node <strong>Change</strong> zmÄ›nÃ­ <code>msg.payload</code> na vaÅ¡i hodnotu - v mÃ©m pÅ™Ã­padÄ› jsem zmÄ›nila hodnotu na "jsem v klidu" pro hodnoty payload 1-5, nebo "spadnu" pro payload 6. PouÅ¾ity jsou tÃ­mto dva node <strong>Change</strong>. 
</p>
<h3>Text v Dashboard</h3>
<p>Aby bylo moÅ¾nÃ© vytisknout nÄ›jakÃ½ text, v sekci Dashboard je node <strong>Text</strong>. Pojmenujte jej, abyste si jej ve Flow poznali (v mÃ©m pÅ™Ã­padÄ› se jmenuje "Co PIR senzor?") a nechte jej zobrazovat <code>msg.payload</code>, kterÃ© v tuto chvÃ­li nabÃ½vÃ¡ hodnoty "Jsem v klidu" nebo "Bacha spadnu".</p>

<img src="img/function_text.png" alt="Funkce pro zmÄ›nu">
<h3>Z ÄÃ­sla do textu</h3>
<p>Funguje to? V tuhle chvÃ­li byste po otoÄenÃ­ PIR modulu mÄ›li vidÄ›t, jak na dashboardu se text mÄ›nÃ­ z "Jsem v klidu" na "Bacha spadnu". Pokud tam mÃ¡te k tomu i Gauge z minulÃ©ho programu, uvidÃ­te aktuÃ¡lnÃ­ otoÄenÃ­ PIR modulu.</p>


    <button class="primary-button" onclick="document.getElementById('section-end').style.display='block'; this.style.display='none';">
      OtÃ¡ÄÃ­m modulem a text se mÄ›nÃ­.
    </button>
  </section>

  <section id="section-end" style="display:none;">
  <h3>HlÃ­daÄ</h3>
<p>PIR modul je tady pouÅ¾itÃ½ jako gyroskopickÃ¡ kostka. PouÅ¾ijte jej opravdu jako PIR senzor! Naprogramujte jej, aby sledoval pÅ™Ã­tomnost osoby a psal na Dashboard, jestli nÄ›koho vidÃ­ nebo ne.</p>

     <h3>ShrnutÃ­</h3>
    <p>Vstup generuje zprÃ¡vy a ty umÃ­te mÄ›nit pomocÃ­ <strong>Change</strong>.</p>
    <p>ZprÃ¡vy umÃ­te filtrovat pomocÃ­ <strong>Switch</strong> a pÅ™edÃ¡vat je dalÅ¡Ã­m uzlÅ¯m pro zpracovÃ¡nÃ­.</p>
    <p>V Dashboardu tisknete vlastnÃ­ zprÃ¡vy.</p>

    <button class="primary-button" onclick="ukoncitLekci()">
      UmÃ­m si pohrÃ¡t s <code>msg.payload</code> a vytisknout jej na Dashboard.
    </button>
  </section>
  

  <script>
    function ukoncitLekci() {
      localStorage.setItem('lekce3Dokoncena', 'true');
      alert("ğŸ‰ SkvÄ›lÃ©, lekce 3 je dokonÄena!");
      window.location.href = "index.html";
    }
  </script>
</main>
</body>
</html>


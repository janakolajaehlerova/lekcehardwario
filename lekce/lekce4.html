<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <title>Lekce 4 â€“ SvÄ›tla</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<main>
  <h1>Lekce 4 â€“ SvÄ›tla</h1>

  <p class="prokoho">
    ğŸ§‘â€ğŸ’» TrvÃ¡nÃ­: 40 minut<br>
    ğŸ¯ CÃ­lovÃ¡ skupina: pro jednotlivce i skupiny
  </p>

  <section id="section-start">
    <h3>Ãšvod</h3>
    <p>V Hardwario Playground uÅ¾ umÃ­te najÃ­t vstupy, pÅ™epracovat je a vytisknout je do Dashboardu. TÃ­m jste zÃ­skali zÃ¡kladnÃ­ dovednosti pro prÃ¡ci se senzory a vizualizacÃ­ dat.</p>

<p>NÃ¡sledujÃ­cÃ­ lekce bude hra s LED pÃ¡skem, kterÃ¡ snad pÅ™inese do tÃ©to ÄÃ¡sti prÃ¡ce svÄ›tlo a novÃ© moÅ¾nosti kreativnÃ­ho vyuÅ¾itÃ­.</p>

  
      <h3>Co je pÅ™ipraveno</h3>
<ul>
  <li>âœ… MÃ¡te pÅ™ipravenÃ½ a spÃ¡rovanÃ½ Button module nebo PIR module.</li>
  <li>âœ… UmÃ­te v Playgroundu pracovat se zprÃ¡vou, napsat Change a Switch.</li>
  <li>âœ… MÃ¡te Power module a LED pÃ¡sek.</li>
</ul>

    <button class="primary-button" onclick="document.getElementById('section-next').style.display='block'; this.style.display='none';">
      MÃ¡m pÅ™ipravenÃ¡ Power module a LED pÃ¡sek.
    </button>
  </section>
   <section id="section-next" style="display:none;">

 <h3>PÅ™ehraj firmware pro Power Module</h3>
<p>PÅ™ipojte Power Module pomocÃ­ USB kabelu a zajdÄ›te do zÃ¡loÅ¾ky Firmware. Ten mÅ¯j mÃ¡ nahranÃ½ <code>twr-radio-power-controller-rgb150</code>, ale rozhodnÄ› je dobrÃ© jej aktualizovat. LED pÃ¡sek v tuto chvÃ­li nemusÃ­ bÃ½t pÅ™ipojenÃ½, ale opÄ›t to niÄemu neÅ¡kodÃ­.</p>

<h3>SpÃ¡ruj Power Module</h3>
<p>Power Module je vÃ½jimeÄnÃ½ tÃ­m, Å¾e nemÃ¡ baterie, ale je napÃ¡jenÃ½ pÅ™Ã­mo ze zdroje. KdyÅ¾ v zÃ¡loÅ¾ce Devices stisknete tlaÄÃ­tko "Start pairing", mÅ¯Å¾ete potÃ© zapojit do zdroje Power Module, kterÃ½ se tÃ­m dostane do pÃ¡rovacÃ­ho reÅ¾imu. Po spÃ¡rovÃ¡nÃ­ se ten mÅ¯j Power Module tvÃ¡Å™Ã­ jako <code>power-controller:0</code>.</p>

<img src="img/LED.jpg" alt="LED pÃ¡sek pÅ™ipojenÃ½ k Power Module">

<h3>SpusÅ¥te to!</h3>
<p>ProgramovÃ¡nÃ­ ve flow opÄ›t zaÄnÄ›te zprÃ¡vou, kterÃ¡ vÃ¡m nÄ›co poÅ¡le. V tuto chvÃ­li tuÅ¡Ã­te, Å¾e zpÅ¯sobÅ¯, jak zÃ­skat zprÃ¡vu, kterÃ¡ nÄ›co odstartuje, je vÃ­ce.</p>

<ul>
  <li>âœ… Button modul a sledovÃ¡nÃ­, kdy je stisknutÃ½.</li>
  <li>âœ… PIR modul a sledovÃ¡nÃ­, kdy je otoÄenÃ½.</li>
  <li>âœ… LibovolnÃ½ modul â€“ vÅ¡echny majÃ­ teplotu a vy ji urÄitÄ› dokÃ¡Å¾ete zmÄ›nit (ano, tato varianta je jen pro ty, kdo majÃ­ hodnÄ› trpÄ›livosti a Äasu).</li>
</ul>

<h3>Co poslat do Power Module</h3>
<p>ProzatÃ­m jste Äetli ze senzorÅ¯ pomocÃ­ node <strong>mqtt in</strong>. TeÄ je potÅ™eba nakrmit Power Module, coÅ¾ umÃ­ node <strong>mqtt out</strong>. Topic, kterÃ½ umÃ­ rozzÃ¡Å™it pÃ¡sek, je napÅ™Ã­klad: <code>node/power-controller:0/led-strip/-/color/set</code>.</p>

<h3>Jakou zprÃ¡vu poslat</h3>
<p>Spojit vstup (stisknutÃ½ button se zprÃ¡vou 1) a vÃ½stup (nastavenÃ­ pÃ¡sku) by nevedlo k tomu sprÃ¡vnÃ©mu vÃ½sledku. Zde je Äas na node <strong>Change</strong>, kde <code>msg.payload</code> pÅ™enastavÃ­te na string <code>"#FF0000"</code>, tedy Äervenou barvu.</p>

<p>Pokud neznÃ¡te kÃ³dovÃ¡nÃ­ barev pomocÃ­ RGB, <a href="https://www.w3schools.com/colors/colors_rgb.asp" target="_blank">zde jej najdete</a>.</p>

<img src="img/function_LED1.png" alt="UkÃ¡zka kÃ³du pro ovlÃ¡dÃ¡nÃ­ LED pÃ¡sku">

<h3>PohrÃ¡nÃ­ si s kÃ³dem</h3>
<p>Pro kÃ³d, kterÃ½ umÃ­ mÄ›nit hodnotu LED pÃ¡sku podle orientace PIR senzoru, pak staÄÃ­ pÅ™idat <strong>Switch</strong> a mÄ›nit hodnotu barvy, kterÃ¡ jde do Power Module.</p>

<img src="img/function_LED2.png" alt="UkÃ¡zka kÃ³du pro ovlÃ¡dÃ¡nÃ­ LED pÃ¡sku s otÃ¡ÄenÃ­m">

    <button class="primary-button" onclick="document.getElementById('section-end').style.display='block'; this.style.display='none';">
      UmÃ­m rozsvÃ­tit LED pÃ¡sek.
    </button>
  </section>

  <section id="section-end" style="display:none;">
  <h3>Barvy a efekty</h3>
<p>Byla by Å¡koda nerozsvÃ­tit LED svÄ›tla v plnÃ©m rozsahu, proto se nebojte vyzkouÅ¡et napÅ™Ã­klad pÅ™Ã­kaz <code>node/power-controller:0/led-strip/-/effect/set</code>, kterÃ©mu ale pÅ™edÃ¡te zprÃ¡vu <code>{"type":"rainbow", "wait":10}</code>. </p>
<p>BolÃ­ vÃ¡s oÄi s pÅ™Ã­liÅ¡nÃ©ho jasu? <code>node/power-controller:0/led-strip/-/brightness/set</code> bere jako zprÃ¡vu hodnoty 0-100 a nastavÃ­ jas.</p>

  <h3>Adresace</h3>
<p>PÃ¡sek je moÅ¾nÃ© adresovat po jednotlivÃ½ch LEDkÃ¡ch pomocÃ­ <code>node/<device-id>/led-strip/-/set-pixel/set</code>, zprÃ¡va pak obsahuje informace  <code>{"type":"rainbow", "wait":10}</code>. </p>
<p>BolÃ­ vÃ¡s oÄi s pÅ™Ã­liÅ¡nÃ©ho jasu? <code>node/power-controller:0/led-strip/-/brightness/set</code> bere jako zprÃ¡vu hodnoty 0-100 a nastavÃ­ jas.</p>

     <h3>ShrnutÃ­</h3>
    <p>MÃ¡te spÃ¡rovanÃ½ Power Module s firmware pro LED pÃ¡sek. </p>
    <p>UmÃ­te rozsvÃ­tit LED pÃ¡sek v rÅ¯znÃ½ch barvÃ¡ch a pÅ™idat i efekty.</p>

    <button class="primary-button" onclick="ukoncitLekci()">
      LED pÃ¡sek umÃ­m ovlÃ¡dat a poslat na nÄ›j libovolnou barvu.
    </button>
  </section>

  <script>
    function ukoncitLekci() {
      localStorage.setItem('lekce4Dokoncena', 'true');
      alert("ğŸ‰ SkvÄ›lÃ©, lekce 4 je dokonÄena!");
      window.location.href = "index.html";
    }
  </script>
</main>
</body>
</html>

